name = "meet-ai"
main = "src/server.ts"
compatibility_date = "2025-09-06"
compatibility_flags = ["nodejs_compat"]
workers_dev = true
preview_urls = false

routes = [{ pattern = "your-domain.com", custom_domain = true }]

[assets]
directory = "./public"
binding = "ASSETS"
not_found_handling = "none"

[[kv_namespaces]]
binding = "UPLOADS"
id = "YOUR_KV_NAMESPACE_ID"

[[d1_databases]]
binding = "DB"
database_name = "meet-ai-db"
database_id = "YOUR_D1_DATABASE_ID"
migrations_dir = "migrations"

[triggers]
crons = ["0 3 * * *"]

[durable_objects]
bindings = [
  { name = "CHAT_ROOM", class_name = "ChatRoom" },
  { name = "LOBBY", class_name = "Lobby" },
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["ChatRoom"]

[[migrations]]
tag = "v2"
new_sqlite_classes = ["Lobby"]
